{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>FLEX</title>
    <link rel="stylesheet" href="{% static 'css/style.min.css' %}">
</head>

<body>

    <div class="blur">
        <form action="" id="project-form">
            <h2>Add a Project</h2>
            <hr>
            <label for="project-name">Project Name</label>
            <input type="text" name="project-name" id="project-name">
            <label for="description">Description</label>
            <textarea name="description" id="description" cols="30" rows="10"></textarea>
            <label for="status">Status</label>
            <select name="status" id="status">
                <option value="Completed">Completed</option>
                <option value="Pending">Pending</option>
                <option value="Completed">Completed</option>
            </select>
            <input type="submit" value="Create">
            <button><i class="bi bi-x"></i></button>
        </form>
    </div>

    <header>
        <img src="https://scontent.fhyd11-2.fna.fbcdn.net/v/t39.30808-1/361317258_253495350768664_5192694073866053488_n.jpg?stp=c3.0.200.200a_dst-jpg_p200x200&_nc_cat=103&ccb=1-7&_nc_sid=f4b9fd&_nc_ohc=aXU8seHafWQQ7kNvgHIYt6H&_nc_ht=scontent.fhyd11-2.fna&oh=00_AYBaa8ace-Ku4fdDqQ_41DkiBnb7sb18L1jcJvS_H2SdOA&oe=66BA82BA"
            alt="">
        <div class="title">
            <h1>MITS - FLEX</h1>
        </div>
    </header>

    <main>
        <div class="profile border-custom">
            <div class="detail">
                <p>V Mahesh Kumar</p>
                <p>22691A05B5</p>
            </div>
            <div class="leetcode">
                <h5>Leetcode Profile</h5>
                <div class="leetcode-problems">
                    <div>Easy: 10</div>
                    <div>Medium: 5</div>
                    <div>Hard: 2</div>
                </div>
            </div>
        </div>
        <div class="grid">
            <div class="section border-custom">
                <h2 id="projects">Projects</h2>
                <hr>
                <ul class="multiple">
                    <li>
                        <h5><a href="#">Github</a></h5>
                        <p>This is a github Project</p>
                        <p>Status: Pending</p>
                        <a href="#"><i class="bi bi-github"></i></a>
                    </li>
                    <hr>
                    <li>
                        <h5><a href="#">Github</a></h5>
                        <p>This is a github Project</p>
                        <p>Status: Pending</p>
                    </li>
                    <hr>
                    <li>
                        <h5><a href="#">Github</a></h5>
                        <p>This is a github Project</p>
                        <p>Status: Pending</p>
                    </li>
                    <hr>
                </ul>
                <button class="btn btn-primary" data-category="projects" onclick="return new_item(this);">
                    <i class="bi bi-plus"></i>
                    Project
                </button>
            </div>
            <div class="section border-custom">
                <h2 id="languages">Foreign Languages</h2>
                <hr>
                <ul class="multiple">
                    <li>
                        <h5><a href="#">Github</a></h5>
                        <p>Provider: Coursera</p>
                        <p>Status: Completed</p>
                        <a href="#">Click here to go to course</a>
                    </li>
                    <hr>
                    <li>
                        <h5><a href="#">Github</a></h5>
                        <p>This is a github Project</p>
                        <p>Status: Pending</p>
                    </li>
                    <hr>
                    <li>
                        <h5><a href="#">Github</a></h5>
                        <p>This is a github Project</p>
                        <p>Status: Pending</p>
                    </li>
                    <hr>
                </ul>
                <button class="btn btn-primary" data-category="languages" onclick="return new_item(this);">
                    <i class="bi bi-plus"></i>
                    Language
                </button>
            </div>
            <div class="section border-custom">
                <h2 id="technical">Technical Certifications</h2>
                <hr>
                <ul class="multiple">
                    <li>
                        <h5><a href="#">Github</a></h5>
                        <p>This is a github Project</p>
                        <p>Status: Pending</p>
                    </li>
                    <hr>
                    <li>
                        <h5><a href="#">Github</a></h5>
                        <p>This is a github Project</p>
                        <p>Status: Pending</p>
                    </li>
                    <hr>
                    <li>
                        <h5><a href="#">Github</a></h5>
                        <p>This is a github Project</p>
                        <p>Status: Pending</p>
                    </li>
                    <hr>
                </ul>
                <button class="btn btn-primary" data-category="certificates" onclick="return new_item(this);">
                    <i class="bi bi-plus"></i>
                    Certification
                </button>
            </div>
        </div>
    </main>
    <div class="form-check-label">
        <button id="themeToggle"><i class="bi bi-moon-fill"></i></button>
    </div>

    <script>
        const toggleSwitch = document.getElementById('themeToggle');
        const icon = document.querySelector('#themeToggle i');
        const body = document.body;
        const allElements = document.querySelectorAll('*'); // Select all elements
        console.log(allElements);
        const blur = document.querySelector('.blur');
        const projectform = blur.children[0];
        toggleSwitch.addEventListener('click', () => {
            // Toggle the light theme class on the body
            const formAll = document.querySelectorAll('input, select, textarea, option');
            body.classList.toggle('light-theme');

            // Add or remove the light theme class from all elements
            allElements.forEach(element => {
                element.classList.toggle('light-theme', body.classList.contains('light-theme'));
            });

            formAll.forEach(element => {
                element.classList.toggle('light-theme', body.classList.contains('light-theme'));
            })
            icon.classList.toggle('bi-moon-fill');
            icon.classList.toggle('bi-brightness-high-fill');

        });

        function remove_form() {
            blur.style.animationDirection = "reverse";
            blur.classList.add('blur-animation');
            projectform.style.animationDirection = "reverse";
            projectform.classList.add('scale-animation');
            setTimeout(() => {
                blur.classList.remove('blur-animation');
                projectform.classList.remove('scale-animation');
                blur.style.display = 'none';
            }, 500);
        }

        function new_item(element) {
            category = element.dataset.category;
            blur.style.animationDirection = "normal";
            blur.style.display = 'flex';
            blur.classList.add('blur-animation');
            if (category === 'projects') {
                projectform.innerHTML = `<h2>Add a Project</h2>
                <hr>
                <label for="project-name">Project Name</label>
                <input type="text" name="project-name" id="project-name">
                <label for="description">Description</label>
                <textarea name="description" id="description" cols="30" rows="10"></textarea>
                <label for="status">Status</label>
                <select name="status" id="status">
                    <option value="Completed">Completed</option>
                    <option value="Pending">Pending</option>
                </select>
                <label for='github'>Github Link</label>
                <input type="text" name="github" id="github">
                <input type="submit" value="Create">
                <button type="button" onclick="return remove_form()"><i class="bi bi-x"></i></button>`
            }
            else if (category === 'languages') {
                projectform.innerHTML = `<h2>Add a Language</h2>
                <hr>
                <label for="language-name">Language</label>
                <input type="text" name="language-name" id="language-name">
                <label for="provider">Provider</label>
                <input type="text" name="provider" id="provider">
                <label for="status">Status</label>
                <select name="status" id="status">
                    <option value="Completed">Completed</option>
                    <option value="Pending">Pending</option>
                </select>
                <label for='course-link'>Course Link</label>
                <input type="text" name="course-link" id="course-link">
                <input type="submit" value="Create">
                <button type="button" onclick="return remove_form()"><i class="bi bi-x"></i></button>`
            }
            else if (category === 'certificates') {
                projectform.innerHTML = `<h2>Add a Certificate</h2>
                <hr>
                <label for="course-name">Course Name</label>
                <input type="text" name="course-name" id="course-name">
                <label for="provider">Provider</label>
                <input type="text" name="provider" id="provider">
                <label for="status">Status</label>
                <select name="status" id="status">
                    <option value="Completed">Completed</option>
                    <option value="Pending">Pending</option>
                </select>
                <label for='course-link'>Course Link</label>
                <input type="text" name="course-link" id="course-link">
                <input type="submit" value="Create">
                <button type="button" onclick="return remove_form()"><i class="bi bi-x"></i></button>`
            }
            projectform.style.animationDirection = "normal";
            console.log(projectform)
            projectform.classList.add('scale-animation');
            setTimeout(() => {
                blur.classList.remove('blur-animation');
                projectform.classList.remove('scale-animation');
            }, 500);
        }
    </script>
</body>

</html>